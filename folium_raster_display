
def folium_raster_display(file_path,tile_name = "OpenstreetMap",control_scale=False):
    """
    Display a raster file using "folium.raster_layers.ImageOverlay" in Folium.
    Args:
        file_path (str): Path to the raster file.
        tile_name (str): Name of the tile layer to use. Default is "OpenstreetMap".
        control_scale (bool): Whether to show the scale control. Default is False.
    Returns:
        folium.Map: Folium map with the raster overlay.
    Depencies:
        - folium 
        - rasterio
        - numpy
        - PIL (Pillow)
    """
    import folium
    from PIL import Image
    import rasterio
    import numpy as np
    import folium.raster_layers
    # Open the raster file using rasterio
    with rasterio.open(file_path) as src:
        
        # Read the raster data
        bands =  src.read() #Read all bands
        bands = np.moveaxis(bands, 0, -1) #Move the first axis to the last axis

        # Get the bounds of the raster
        bounds = src.bounds
        converted_bounds = [[bounds.bottom, bounds.left], [bounds.top, bounds.right]]
        # Convert the bands to a PIL image
        image = Image.fromarray(bands)

        # Create a Folium map centered on the raster bounds
        m = folium.Map(
            location=[
                (bounds.top + bounds.bottom) / 2, 
                (bounds.left + bounds.right) / 2], 
            zoom_start=12,
            tiles=tile_name,
            control_scale=control_scale,
        )
        # Add the raster overlay to the map
        folium.raster_layers.ImageOverlay(
            image=image,
            bounds=converted_bounds,
            mercator_project=True,
            overlay=True,
            name = str(file_path),
        ).add_to(m)

        return m
